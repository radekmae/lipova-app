[{"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/pages/_app.js":"1","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/pages/account.js":"2","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/pages/admin.js":"3","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/pages/index.js":"4","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/pages/login.js":"5","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Admin/index.js":"6","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Cookies/index.js":"7","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Cookies/userCookies.js":"8","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Firebase/index.js":"9","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Firebase/initFirebase.js":"10","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Landing/index.js":"11","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Layout/index.js":"12","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Session/context.js":"13","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Session/index.js":"14","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Session/mapUserData.js":"15","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Database/context.js":"16","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Database/index.js":"17","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Database/initialDatabase.js":"18","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Account/index.js":"19","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Header/index.js":"20","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Login/index.js":"21","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Session/old_context.js":"22"},{"size":412,"mtime":1643673010817,"results":"23","hashOfConfig":"24"},{"size":340,"mtime":1643914911025,"results":"25","hashOfConfig":"24"},{"size":455,"mtime":1643914929045,"results":"26","hashOfConfig":"24"},{"size":358,"mtime":1643673443090,"results":"27","hashOfConfig":"24"},{"size":223,"mtime":1643908158192,"results":"28","hashOfConfig":"24"},{"size":2072,"mtime":1643885088323,"results":"29","hashOfConfig":"24"},{"size":168,"mtime":1643240439551,"results":"30","hashOfConfig":"24"},{"size":379,"mtime":1643675154193,"results":"31","hashOfConfig":"24"},{"size":2697,"mtime":1643886849601,"results":"32","hashOfConfig":"24"},{"size":712,"mtime":1643578749602,"results":"33","hashOfConfig":"24"},{"size":736,"mtime":1643466681153,"results":"34","hashOfConfig":"24"},{"size":759,"mtime":1643841878385,"results":"35","hashOfConfig":"24"},{"size":2160,"mtime":1643914844825,"results":"36","hashOfConfig":"24"},{"size":188,"mtime":1643467210200,"results":"37","hashOfConfig":"24"},{"size":247,"mtime":1643249477647,"results":"38","hashOfConfig":"24"},{"size":799,"mtime":1643885984388,"results":"39","hashOfConfig":"24"},{"size":263,"mtime":1643672346773,"results":"40","hashOfConfig":"24"},{"size":464,"mtime":1643881568870,"results":"41","hashOfConfig":"24"},{"size":2175,"mtime":1643915141210,"results":"42","hashOfConfig":"24"},{"size":478,"mtime":1643841949621,"results":"43","hashOfConfig":"24"},{"size":1991,"mtime":1643833371990,"results":"44","hashOfConfig":"24"},{"size":1975,"mtime":1643905647342,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"i92elu",{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/pages/_app.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/pages/account.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/pages/admin.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/pages/index.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/pages/login.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Admin/index.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Cookies/index.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Cookies/userCookies.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Firebase/index.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Firebase/initFirebase.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Landing/index.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Layout/index.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Session/context.js",["91"],"import { useState, useEffect, useContext, createContext } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { signOut, getAuth, onIdTokenChanged } from \"firebase/auth\";\r\n// components\r\nimport { mapUserData } from \"components/Session\";\r\nimport { initFirebase } from \"components/Firebase/initFirebase\";\r\nimport {\r\n    removeUserCookie,\r\n    setUserCookie,\r\n    getUserFromCookie,\r\n} from \"components/Cookies\";\r\n// constants\r\nimport * as ROUTES from \"constants/routes\";\r\nimport { publicPages } from \"constants/publicPages\";\r\n\r\ninitFirebase();\r\n\r\nexport const AuthContext = createContext({ user: null });\r\n\r\nexport function AuthProvider({ children }) {\r\n    const [user, setUser] = useState();\r\n    const router = useRouter();\r\n    const auth = getAuth();\r\n\r\n    const logout = async () => {\r\n        await signOut(auth);\r\n        removeUserCookie();\r\n        router.push(ROUTES.LOGIN);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const unsubscribeListener = onIdTokenChanged(auth, (user) => {\r\n            if (user) {\r\n                const userData = mapUserData(user);\r\n                setUserCookie(userData);\r\n                setUser(userData);\r\n                if (router.pathname == ROUTES.LOGIN) {\r\n                    router.push(ROUTES.ADMIN);\r\n                }\r\n            } else {\r\n                removeUserCookie();\r\n                setUser();\r\n                if (\r\n                    router.pathname == ROUTES.ADMIN ||\r\n                    router.pathname == ROUTES.ACCOUNT\r\n                ) {\r\n                    return router.push(ROUTES.LOGIN);\r\n                }\r\n                if (!publicPages.includes(router.pathname)) {\r\n                    router.push(ROUTES.LANDING);\r\n                }\r\n            }\r\n        });\r\n\r\n        const userFromCookie = getUserFromCookie();\r\n        setUser(userFromCookie);\r\n\r\n        return () => {\r\n            unsubscribeListener();\r\n        };\r\n    }, [auth]);\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, logout }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nexport const useAuthContext = () => {\r\n    return useContext(AuthContext);\r\n};\r\n","/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Session/index.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Session/mapUserData.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Database/context.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Database/index.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Database/initialDatabase.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Account/index.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Header/index.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Login/index.js",[],"/Users/radekmatyas/Desktop/M3 studio/6-2 vl-zborovska/components/Session/old_context.js",[],{"ruleId":"92","severity":1,"message":"93","line":61,"column":8,"nodeType":"94","endLine":61,"endColumn":14,"suggestions":"95"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'router'. Either include it or remove the dependency array.","ArrayExpression",["96"],{"desc":"97","fix":"98"},"Update the dependencies array to be: [auth, router]",{"range":"99","text":"100"},[1927,1933],"[auth, router]"]